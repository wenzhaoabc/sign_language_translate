import{P as v,Q as w,d as b,i as u,z as V,j as C,r as l,o as A,c as I,a as p,b as e,w as t,e as m,O as f}from"./index-ad80de0e.js";import{_ as N}from"./_plugin-vue_export-helper-c27b6911.js";const P=()=>v.get(w+"/all_user",{},{}),k=i=>v.get(w+"/remove_account",{user_id:i},{noLoding:!0}),B={class:"card"},z={class:"search-top"},E=b({name:"systemUser"}),M=b({...E,setup(i){const c=u(),_=u(),d=u();V(()=>c.value,(n,s)=>{d.value=_.value.filter(r=>r.username.includes(n))});const h=async n=>{const{code:s}=await k(n);s==200?f.success("已删除"):f.error("删除失败")};return C(async()=>{_.value=(await P()).data,d.value=_.value}),(n,s)=>{const r=l("el-button"),g=l("el-input"),a=l("el-table-column"),y=l("el-image"),x=l("el-popconfirm"),U=l("el-table");return A(),I("div",B,[p("div",z,[e(g,{modelValue:c.value,"onUpdate:modelValue":s[0]||(s[0]=o=>c.value=o),placeholder:"请输入要检索的用户名"},{append:t(()=>[e(r,null,{default:t(()=>[m(" 搜索 ")]),_:1})]),_:1},8,["modelValue"])]),p("div",null,[e(U,{data:d.value,"row-key":"id"},{default:t(()=>[e(a,{label:"用户ID",prop:"id",width:"100"}),e(a,{label:"用户头像",width:"200"},{default:t(o=>[e(y,{src:o.row.avatar,"preview-src-list":[o.row.img],"preview-teleported":"",style:{width:"80px"}},null,8,["src","preview-src-list"])]),_:1}),e(a,{label:"用户名",prop:"username",width:"200"}),e(a,{label:"注册手机号",prop:"phone",width:"200"}),e(a,{label:"注册时间",prop:"created",width:"250"}),e(a,{label:"操作",width:"250"},{default:t(o=>[e(x,{title:"Are you sure to delete this?",onConfirm:O=>h(o.row.id)},{reference:t(()=>[e(r,{type:"danger",size:"small"},{default:t(()=>[m("删除")]),_:1})]),_:2},1032,["onConfirm"])]),_:1})]),_:1},8,["data"])])])}}});const D=N(M,[["__scopeId","data-v-cbaaadcf"]]);export{D as default};
